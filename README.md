# googlestockquotes

Python library to obtain stock data from Google Finance in one of two ways:
- Using a sort of Google Finance API, which for a few years has not been maintained by Google and could stop functioning in the (near) future. See [this page](googlecode.blogspot.com/2011/05/spring-cleaning-for-some-of-our-apis.html) for more info. Makes use of of 'requests' and 'json' libraries
- By parsing it from the stock's Google Finance web page. Makes use of 'bs4', 'requests' and 're' libraries

## How to use
After importing this module, you can construct a Stock object by calling the constructor in the format
`stock = Stock('MARKET:SYMBOL')`, e.g. `google = Stock('NASDAQ:GOOG')` or `heineken = Stock('AMS:HEIA')`.  For stocks
listed on the Nasdaq or on the Dow Jones, markets do not have to be indicated, i.e. you can simply call
`goog = Stock('GOOG')`.

A Stock object containing stock information will be generated by calling `stock.get_info`. This method will in turn call
`stock.get_info_gfapi` to retrieve the information via the Google Finance api or `stock.get_info_gfpage` to parse the info
from the Google Finance page. You can specify which solution you would like to use by calling `stock = Stock('MARKET:SYMBOL', solution)` where solution = 'api' or 'page'. If this argument is omitted, it defaults to 'api'.

The information is stored in a dictionary in `stock.info`. The translations of the dictionary keys can be found below. Calling
`stock.get_quote` will return the latest stock quote as an integer, but since it calls `stock.get_info` under the hood will also populate `stock.info`. If the script is run directly (as main), it will prompt for a stock symbol.

####Stock.info dictionary keys
*PC* previous close stock price - *SP* stock price - *CH* change in SP since previous close - *CHP* CH in percentage - *DT* date and time of last trade during normal market hours - *EHSP* extra hours SP - *EHCH* extra hours change in SP since closing of regular markets - *EHCHP* EHCH in percentage - *EHDT* date and time of last trade during extra hours

*Note*: not all of these types of information will always be obtained when `stock.get_info` is called, depending on the retrieval method and on the stock itself. Google Finance does not provide extra hours pricing information for every stock, for example. The two solutions aim to provide the following information:
- 'api' (default): PC, SP, CH, CHP, DT, EHSP, EHCH, EHCHP and EHDT
- 'page': SP, CH, CHP, EHSP, EHCH and EHCP

## To do
- [ ] Add extra functionality to 'page' method, in order to retrieve more types of information
- [ ] Add a method to retrieve historical stock data
- [ ] Add test method
